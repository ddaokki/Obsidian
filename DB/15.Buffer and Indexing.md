# Storage Access
- Block
	- 저장 및 데이터 전송의 기본 단위
	- 디스크와 메모리 간 전송은 블록 단위로 이루어짐
- 디스크 접근 최소화
	- 디스크 I/O는 비용이 크므로, 최대한 많은 블록을 메모리에 유지함으로써 **디스크 접근 횟수를 줄이는 것**이 중요
- Buffer
	- 메인 메모리의 일부로, 디스크 블록의 복사본을 저장하는 공간
- Buffer Manager
	- 메모리 내의 버퍼 공관을 관리하는 서브시스템
	- 주로 **해시 테이블**을 사용하여 어떤 블록이 메모리에 있는지 추적

![[Pasted image 20250519212524.png]]

# Buffer Manager
프로그램이 디스크로부터 블록을 필요로 할 때, **Buffer Manager**가 그 요청을 처리함
1. 블록이 이미 버퍼에 있는경우
	- 버퍼 매니저는 **메인 메모리 내 블록의 주소를 반환**함
	- 디스크 접근이 **필요 없음** (성능적으로 유리)
2.  블록이 버퍼에 없는 경우
	1.  버퍼 공간 할당
		- 새 블록을 위한 공간이 필요한 경우,
			- **다른 블록을 제거**(eviction)하여 공간 확보.
			- **제거되는 블록이 수정되었을 경우**에만 디스크에 다시 저장(write-back)함
	2. 디스크로부터 블록을 읽어옴
		- 블록을 디스크에서 버퍼로 로드한 후,
		- 메인 메모리 내 해당 블록의 주소를 요청자에게 반환함


### Buffer Manager - Read
![[Pasted image 20250519213337.png]]

1. **Query -> Buffer manager** (Read Request) 
	- 사용자의 쿼리가 특정 페이지(블록)를 읽기 위해 **버퍼 매니저에게 요청**함
2. **Buffer Manager -> Check Buffer** (If not found in Buffer)
	- 요청된 페이지가 **버퍼에 있는지 확인**
3. **페이지가 버퍼에 없는 경우 (Buffer Miss)**
	- 디스크에서 페이지를 읽어 오기 전에, 버퍼에 빈 공간이 없다면, **교체 정책**에 따라 기존 페이지 하나를 제거 해야함 (Replacement) 
4. **Dirty 여부 화