## Failure Classification
- **Transaction failure**:
  - **Logical errors**: 트랜잭션 내부 오류로 인해 완료할 수 없음
  - **System errors**: 시스템 오류(예: 데드락)로 인해 트랜잭션이 중단됨

- **System crash**: 정전 또는 하드웨어/소프트웨어 오류로 인해 시스템이 중단되는 경우
  - **Fail-stop 가정**: 비휘발성 저장 장치는 시스템 크래시로 인해 손상되지 않는다고 가정함
    - 데이터베이스 시스템은 디스크 데이터 손상 방지를 위한 무결성 검사 다수 수행

- **Disk failure**: 디스크 자체 손상으로 저장소 일부 혹은 전체가 파괴되는 경우
  - 디스크는 체크섬을 사용하여 오류 탐지 수행

## Recovery Algorithms
- 트랜잭션 `Tᵢ`가 계정 `A`에서 `B`로 $50을 이체한다고 가정할 때:
  - 두 개의 갱신이 발생함:
    - A에서 50을 차감
    - B에 50을 더함

- 트랜잭션 `Tᵢ`는 A와 B에 대한 갱신이 DB에 반영되어야 함
  - 실패가 두 갱신 중간에 발생할 수 있음
  - 비원자적 수정은 DB의 불일치 상태를 야기함
  - 트랜잭션 직후 실패 시 DB 미반영으로 인해 갱신 손실 발생 가능

- 회복 알고리즘은 두 부분으로 구성됨:
  1. 정상적인 트랜잭션 처리 중, 실패 복구를 위한 충분한 정보를 확보하는 조치
  2. 실패 발생 후, 데이터베이스를 원자성, 일관성, 지속성을 만족하는 상태로 복구하는 조치
  
## Data Access

- **Physical blocks**: 디스크에 저장되어 있는 블록을 의미함. 데이터베이스 시스템에서 실제 데이터를 저장하는 가장 기본적인 단위로, 디스크 I/O 연산의 대상이 됨.

- **Buffer blocks**: 메인 메모리(주기억장치)에 임시로 적재된 블록을 의미함. 디스크에서 데이터를 읽어 오거나 수정 후 디스크에 기록하기 전까지 이곳에 머무름.

### 블록 이동 (디스크 ↔ 메인 메모리)

- `input(B)` 연산:
  - 디스크에 있는 물리적 블록 `B`를 메인 메모리의 버퍼 블록으로 불러오는 작업.
  - 데이터 검색이나 수정 등 처리 작업을 위해 필수적으로 수행됨.

- `output(B)` 연산:
  - 메인 메모리에 있는 버퍼 블록 `B`의 내용을 디스크의 해당 위치에 다시 저장하는 작업.
  - 주로 트랜잭션 커밋 시나 수정된 데이터가 있을 경우 수행됨.

### 단순화된 가정

- 각 데이터 항목이 하나의 블록에 정확히 들어간다고 가정함:
  - 실제로는 하나의 블록에 여러 개의 데이터 항목이 들어갈 수 있음
  - 그러나 이 가정은 개념을 단순화하여 블록 단위 I/O를 이해하기 쉽게 만듦

### 추가 설명

- **버퍼 매니저(Buffer Manager)**:
  - 위 연산들은 모두 버퍼 매니저에 의해 자동으로 수행되며, DBMS 성능의 핵심 요소임
  - 디스크 I/O는 비용이 크기 때문에, 버퍼 매니저는 I/O 최소화를 위한 교체 알고리즘(LRU 등)을 사용함

- **쓰기 지연(Write-Back)**과 **즉시 쓰기(Write-Through)** 전략:
  - `output()`이 언제 발생하는지에 따라 변경 사항의 내구성 및 일관성에 영향


