## Deadlocks

### 개념
- 컴퓨터 시스템의 리소스(프린터, 마우스 등)는 동시에 하나의 프로세스만 사용할 수 있음
- 많은 응용 프로그램은 **하나가 아닌 여러 개의 리소스**에 배타적으로 접근해야 함
- 두 개 이상의 프로세스가 서로 다른 리소스를 점유하고, 상대 리소스를 요청하며 **서로 대기 상태**에 빠지면 교착상태(deadlock) 발생

### 예시
- A: 스캐너 → 블루레이 요청 (B가 점유 중)
- B: 블루레이 → 스캐너 요청 (A가 점유 중)
- 둘 다 상대가 자원 해제할 때까지 대기 → 교착 상태

### 교착 상태는 H/W, S/W 모두에서 발생 가능함

---

## 6.2 Introduction to Deadlocks

### 정의
- 집합 내의 모든 프로세스가 **서로의 자원 해제를 기다리는 상황**에서 아무도 진전이 없는 상태

### Coffman 조건 (교착 상태 발생 조건 4가지)
1. **Mutual exclusion**: 자원이 오직 하나의 프로세스에만 할당됨
2. **Hold and wait**: 자원을 가진 프로세스가 추가 자원을 기다림
3. **No preemption**: 자원을 강제로 회수할 수 없음
4. **Circular wait**: 순환적 대기 구조가 존재함

---

## 6.2.2 Deadlock Modeling

### Holt의 모델: **그래프 기반 모델링**
- 노드: **프로세스(원)**, **자원(사각형)**
- 간선:
  - **자원 → 프로세스**: 자원이 할당됨
  - **프로세스 → 자원**: 자원을 요청함 (대기 중)
- **사이클 존재**시 교착 상태 발생

### 예시
- (d)에서 요청 순서에 따라 사이클 발생 → deadlock 발생
- (k)에서는 자원 해제가 올바르게 이루어져 deadlock 없음

---

## Deadlock 해결 전략

1. **무시하기** (Just ignore)
2. **탐지 및 복구** (Detection & Recovery)
3. **회피** (Avoidance) – 자원 할당을 신중하게
4. **예방** (Prevention) – 4가지 조건 중 하나 이상을 구조적으로 제거

---

## 6.3 The Ostrich Algorithm

- 현실을 외면하는 전략: “문제가 없다고 믿고 무시”
- 수학자는 이 방법을 비판, 엔지니어는 상황 발생 빈도와 영향 고려 후 선택
- 현실적 시스템에서는 자주 발생하지 않거나 비용이 큰 경우 이 방식을 택함
