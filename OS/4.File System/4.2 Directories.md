### 목적
파일 시스템(FS)는 파일들을 **관리**하고 **구분**하기 위해 디렉터리(또는 폴더)를 사용한다.
## 4.2.1 Single-level directory systems
**구조:**  모든 파일이 하나의 디렉토리(루트 디렉토리)에 저장됨
**특징:** 구조가 단순하고 구현이 쉬움
	 파일 이름의 중복 방지를 위해 모든 파일이 **고유한 이름**을 가져야 함
**사용 예:**  간단한 임베디드 시스템(전화기, 디지털 카메라 등)
**단점:** 파일이 많아지면 관리가 매우 어려움

![[Pasted image 20250513102410.png]]

## 4.2.2 Hierachical directory systems
**구조:**  디렉토리 안에 **서브디렉토리**를 가질 수 있는 트리 구조
**특징:**
 - 관련된 파일끼리 그룹화 가능
 - 파일 이름 충돌 방지 (같은 이름이라도 디렉토리가 다르면 허용)
 - 확장성 좋음 (수천, 수만 개 파일에도 효율적)
**사용 예:**  대부분의 현대 운영체제 (Windows, Linux, maxOS 등)
**장점:** 사용자별, 프로젝트별 디렉토리 구성으로 파일 관리 용이

![[Pasted image 20250513102416.png]]

## 4.2.3 Path Names
 파일 시스템이 디렉토리 트리 구조로 조직된 경우, 파일 이름을 지정하는 방법이 필요하다.

#### 1.Absolute Path Name
- 루트 디렉토리(/)로부터 시작되는 전체 경로를 포함한다.
- 예시: /usr/ast/mailbox
	-> 루트 디렉토리 아레에 usr -> ast -> mailbox 순서로 디렉토리 및 파일이 위치함을 의미
- 절대 경로는 항상 **루트 디렉토리**에서 시작하며, **고유(unique)함**
- UNIX 시스템에서는 경로 구분자가 \, Windows 에서는 /를 사용한다.
- 경로의 첫 문자가 구분자일경우, 해당 경로는 절대 경로로 간주된다.

#### 2.Relative Path name
- 상대 경로는 작업 디렉토리(working directory) 개념에 기반한다.
- 작업 디렉토리는 현재 기준이 되는 디렉토리를 릐미
- 사용자가 작업 디렉토리를 설정하면, 루트 디렉토리(/)로 시작하지 않는 모든 경로는 **이 디렉토리를 기준으로 해석**된다
- 각 프로세스는 자신의 작업 디렉토리를 가지고 있으며 이를 변경할 수 있다.
- 대부분의 운영체제에서는 디렉토리마다 특별한 항목 두개가 존재한다.
	- ".": 현재 디렉토리
	- "..":부모 디렉토리
- ##### 🔷 명령어 예시
	작업 디렉터리가 `/usr/ast`인 경우를 가정:
	- `cp ../lib/dictionary .`  
	    → 상위 디렉터리(`/usr`)의 `lib/dictionary`를 현재 디렉터리(`/usr/ast`)로 복사.
	- `cp /usr/lib/dictionary .`  
	    → 절대 경로를 이용하여 `/usr/lib/dictionary`를 현재 디렉터리로 복사.
	- `cp /usr/lib/dictionary dictionary`  
	    → 동일 파일을 복사하되, 복사본의 이름을 `dictionary`로 지정.
	- `cp /usr/lib/dictionary /usr/ast/dictionary`  
	    → 절대 경로를 이용하여 `/usr/lib/dictionary`를 `/usr/ast/dictionary` 위치로 복사.

## 4.2.4 Directory Operations
디렉토리도 파일 시스템 상에서는 하나의 파일로 간주됨.

#### 디렉토리 관련 주요 연산
1. Create(생성)
2. Delete(삭제)
3. Opendir
	- 디렉토리 내 파일 목록을 읽기 위해 디렉토리를 엶
4. Closedir
	- 디렉토리 사용이 끝나면 닫아서 내부 테이블 공간을 해제함
5. Readdir
	- 열린 디렉토리에서 다음 항목(entry)를 반환
6. Rename
	- 디렉토리 또는 파일의 이름 변경
7. Link
	- 하나의 파일을 **여러 디렉토리에 존재하는 것처럼 보이게 함**
	- 기존 파일과 새로운 경로를 지정하여 링크 생성
	- 하드 링크(hard llink)의 개념
8. Unlink
	- 디렉토리 항목 삭제
	- 파일이 한 디렉토리에만 존재함다면, 파일 시스템에서 완전히 제거됨
	- 여러 디렉토리에 존재하는 경우, 해당 경로만 제거하고 파일 자체는 남아 있음
	- UNIX 에서 unlink는 파일 삭제에 사용되는 시스템 콜