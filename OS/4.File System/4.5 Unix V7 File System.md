## 4.5.2 Unix V7 File System

### 파일 시스템 구조
- 파일 시스템은 루트 디렉터리에서 시작하는 트리 구조로 되어 있음.
- UNIX 디렉터리는 각 파일에 대해 하나의 엔트리를 가짐.
  - 각 엔트리는 매우 단순함: 파일 이름(14B) + I-node 번호(2B)

### I-node의 구성
- I-node는 파일 속성(attribute)과 디스크 주소(disk addresses)를 포함함.
  - 예: 파일 크기, 생성/수정 시간, 소유자, 그룹, 접근 권한 등
- 디스크 블록 주소는 최대 10개까지 직접 저장 가능함.

---

## 4.5.3 Unix V7 File System

### 대용량 파일 처리 방식
- 직접 주소로는 부족할 경우 간접 주소 블록을 사용함.

#### Single Indirect Block
- I-node의 주소 중 하나가 "간접 블록"을 가리키며, 이 블록은 추가 디스크 블록 주소들을 포함함.

#### Double Indirect Block
- I-node의 또 다른 주소는 "이중 간접 블록"을 가리킴.
- 이 블록은 간접 블록들의 주소를 포함하고, 각 간접 블록은 실제 데이터 블록 주소를 포함함.

#### Triple Indirect Block
- 위 방법으로도 부족하면 삼중 간접 블록 사용 가능.
- 블록 → 블록 목록 → 간접 블록 목록 → 실제 블록 순으로 주소 참조함.

---

### 경로 이름 조회 예시: `/usr/ast/mbox`
1. 파일 시스템은 루트 디렉터리의 i-node를 찾음.
   - 루트 i-node는 디스크의 고정된 위치에 있음.
2. 루트 디렉터리를 읽음.
3. `usr` 항목의 i-node 번호를 확인함.
4. `usr` 디렉터리를 읽고, `ast` 항목의 i-node를 찾음.
5. `ast` 디렉터리를 읽고, `mbox` 항목의 i-node를 찾음.
6. 마지막으로 `mbox`의 i-node는 해당 파일의 디스크 블록 주소들을 포함함.

### 시사점
- 경로를 따라 각 디렉터리의 내용을 순차적으로 탐색함으로써 최종 파일의 i-node를 획득하고,
- 이를 통해 실제 데이터 블록에 접근 가능함.
